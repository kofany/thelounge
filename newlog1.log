[FeWebSocket] Calling 1 handler(s) for type: nicklist
2025-10-14 17:07:58 [DEBUG] [FeWebAdapter] handleNicklist: server=IRCnet, channel=#polska, text.length=10611
2025-10-14 17:07:58 [DEBUG] [FeWebAdapter] Parsed 360 users from nicklist JSON
2025-10-14 17:07:58 [DEBUG] [FeWebAdapter] Added 360 users to channel.users Map
2025-10-14 17:07:58 [DEBUG] [FeWebAdapter] Calling onNicklistUpdate with 360 users for channel 6
2025-10-14 17:07:58 [DEBUG] [FeWebAdapter] First 3 users BEFORE callback: [{"nick":"||","modes":["+"],"mode":"+"},{"nick":"atufka","modes":["+"],"mode":"+"},{"nick":"brudny","modes":["+"],"mode":"+"}]
2025-10-14 17:07:58 [DEBUG] [IrssiClient] Nicklist update: 6 (360 users)
2025-10-14 17:07:58 [DEBUG] [FeWebAdapter] onNicklistUpdate callback COMPLETED
[FeWebSocket] Received message, type: binary, length: 148
[FeWebSocket] Decrypting binary message (148 bytes)...
[FeWebSocket] Decrypted message: {"id":"1760461678-0019","type":"activity_update","server":"IRCnet","channel":"#polska","timestamp":1760461678,"level":2}
[FeWebSocket] Received: {
  id: '1760461678-0019',
  type: 'activity_update',
  server: 'IRCnet',
  channel: '#polska',
  timestamp: 1760461678,
  level: 2
}
[FeWebSocket] No handlers registered for message type: activity_update
2025-10-14 17:07:58 [DEBUG] [IrssiClient] Activity update: IRCal/#irc.al level=1 unread=0 (from DB)
2025-10-14 17:07:58 [DEBUG] [IrssiClient] Activity update: IRCal/#cz level=1 unread=0 (from DB)
2025-10-14 17:07:58 [DEBUG] [IrssiClient] Activity update: IRCal/#Polska level=1 unread=0 (from DB)
2025-10-14 17:07:58 [DEBUG] [IrssiClient] Activity update: IRCnet/#polska level=2 unread=1 (from DB)
2025-10-14 17:07:58 [INFO] [FeWebAdapter] Emitting init event with 2 networks
2025-10-14 17:07:58 [INFO] [IrssiClient] Init with 2 networks
2025-10-14 17:07:58 [DEBUG] [IrssiClient] Network IRCal serverOptions: {"CHANTYPES":["#","&","!"],"PREFIX":{"prefix":[{"symbol":"!","mode":"Y"},{"symbol":"@","mode":"o"},{"symbol":"%","mode":"h"},{"symbol":"+","mode":"v"}],"modeToSymbol":{"Y":"!","o":"@","h":"%","v":"+"},"symbols":["!","@","%","+"]},"NETWORK":"IRCal"}
2025-10-14 17:07:58 [DEBUG] [IrssiClient] Network IRCnet serverOptions: {"CHANTYPES":["#","&","!"],"PREFIX":{"prefix":[{"symbol":"!","mode":"Y"},{"symbol":"@","mode":"o"},{"symbol":"%","mode":"h"},{"symbol":"+","mode":"v"}],"modeToSymbol":{"Y":"!","o":"@","h":"%","v":"+"},"symbols":["!","@","%","+"]},"NETWORK":"IRCnet"}
2025-10-14 17:07:58 [DEBUG] [IrssiClient] Init event structure: 2 networks, channels: IRCal(4), IRCnet(2)
2025-10-14 17:07:58 [INFO] [IrssiClient] ⏰ TIMING: Sent init event with 2 networks
2025-10-14 17:07:58 [INFO] [IrssiClient] ⏰ TIMING: Sent names for channel 2 (2 users) after init
2025-10-14 17:07:58 [INFO] [IrssiClient] ⏰ TIMING: Sent names for channel 3 (12 users) after init
2025-10-14 17:07:58 [INFO] [IrssiClient] ⏰ TIMING: Sent names for channel 4 (24 users) after init
2025-10-14 17:07:58 [INFO] [IrssiClient] ⏰ TIMING: Sent names for channel 6 (360 users) after init
2025-10-14 17:07:58 [INFO] [IrssiClient] ⏰ TIMING: handleInit() COMPLETED
2025-10-14 17:08:09 [INFO] Logging in irssi user kfn...
2025-10-14 17:08:09 [INFO] User kfn logging in...
2025-10-14 17:08:09 [INFO] irssi password decrypted for user kfn
2025-10-14 17:08:09 [INFO] Message storage encryption key already exists (from autoconnect)
2025-10-14 17:08:09 [INFO] Message storage already enabled (from autoconnect)
2025-10-14 17:08:09 [WARN] User kfn already connected to irssi
2025-10-14 17:08:09 [INFO] User kfn logged in successfully
2025-10-14 17:08:09 [INFO] User kfn: browser attached (cs7ssx5lt4QqPcSiAAAB), total: 1
2025-10-14 17:08:09 [INFO] User kfn: sending init to new browser cs7ssx5lt4QqPcSiAAAB (2 networks)
2025-10-14 17:08:09 [INFO] [IrssiClient] ⏰ TIMING: sendInitialState() START for socket cs7ssx5lt4QqPcSiAAAB
2025-10-14 17:08:09 [INFO] [IrssiClient] Loading messages from storage for 2 networks...
2025-10-14 17:08:09 [INFO] Browser cs7ssx5lt4QqPcSiAAAB attached to irssi user kfn
2025-10-14 17:08:09 [DEBUG] [IrssiClient] Loaded 0 messages for IRCal/IRCal
2025-10-14 17:08:09 [DEBUG] [IrssiClient] Loaded 0 messages for IRCal/#irc.al
2025-10-14 17:08:09 [DEBUG] [IrssiClient] Loaded 0 messages for IRCal/#cz
2025-10-14 17:08:09 [DEBUG] [IrssiClient] Loaded 0 messages for IRCal/#Polska
2025-10-14 17:08:09 [DEBUG] [IrssiClient] Loaded 0 messages for IRCnet/IRCnet
2025-10-14 17:08:09 [DEBUG] [IrssiClient] Loaded 1 messages for IRCnet/#polska
2025-10-14 17:08:09 [INFO] [IrssiClient] ⏰ TIMING: sendInitialState() SENT init event for socket cs7ssx5lt4QqPcSiAAAB with 2 networks
2025-10-14 17:08:09 [DEBUG] [IrssiClient] Sent names for channel 2 (2 users) in init
2025-10-14 17:08:09 [DEBUG] [IrssiClient] Sent names for channel 3 (12 users) in init
2025-10-14 17:08:09 [DEBUG] [IrssiClient] Sent names for channel 4 (24 users) in init
2025-10-14 17:08:09 [DEBUG] [IrssiClient] Sent names for channel 6 (360 users) in init
2025-10-14 17:08:09 [DEBUG] [IrssiClient] Sent activity_update for channel 2 (unread=0, level=1) in init
2025-10-14 17:08:09 [DEBUG] [IrssiClient] Sent activity_update for channel 3 (unread=0, level=1) in init
2025-10-14 17:08:09 [DEBUG] [IrssiClient] Sent activity_update for channel 4 (unread=0, level=1) in init
2025-10-14 17:08:09 [DEBUG] [IrssiClient] Sent activity_update for channel 6 (unread=1, level=2) in init
2025-10-14 17:08:09 [INFO] User kfn: sent initial state to browser cs7ssx5lt4QqPcSiAAAB
2025-10-14 17:08:09 [DEBUG] [IrssiClient] Marked as read: network-1760461678870-t8w7hessb/IRCal
[FeWebSocket] Sending: {"type":"mark_read","server":"IRCal","target":"IRCal","id":"msg-1760461689531-2"}
[FeWebSocket] Sending: {"type":"ping","id":"ping-1760461708869"}
[FeWebSocket] Received message, type: binary, length: 124
[FeWebSocket] Decrypting binary message (124 bytes)...
[FeWebSocket] Decrypted message: {"id":"1760461708-0020","type":"pong","response_to":"ping-1760461708869","timestamp":1760461708}
[FeWebSocket] Received: {
  id: '1760461708-0020',
  type: 'pong',
  response_to: 'ping-1760461708869',
  timestamp: 1760461708
}
[FeWebSocket] Calling 1 handler(s) for type: pong
2025-10-14 17:08:28 [DEBUG] [FeWebAdapter] Received pong
2025-10-14 17:08:32 [DEBUG] [IrssiClient] Marked as read: network-1760461678870-t8w7hessb/#Polska
[FeWebSocket] Sending: {"type":"mark_read","server":"IRCal","target":"#Polska","id":"msg-1760461712609-3"}
[FeWebSocket] Received message, type: binary, length: 147
[FeWebSocket] Decrypting binary message (147 bytes)...
[FeWebSocket] Decrypted message: {"id":"1760461712-0021","type":"activity_update","server":"IRCal","channel":"#polska","timestamp":1760461712,"level":0}
[FeWebSocket] Received: {
  id: '1760461712-0021',
  type: 'activity_update',
  server: 'IRCal',
  channel: '#polska',
  timestamp: 1760461712,
  level: 0
}
2025-10-14 17:08:32 [DEBUG] [IrssiClient] Activity cleared: IRCal/#Polska level=0 unread=0
[FeWebSocket] No handlers registered for message type: activity_update
[FeWebSocket] Received message, type: binary, length: 147
[FeWebSocket] Decrypting binary message (147 bytes)...
[FeWebSocket] Decrypted message: {"id":"1760461712-0022","type":"activity_update","server":"IRCal","channel":"#polska","timestamp":1760461712,"level":1}
[FeWebSocket] Received: {
  id: '1760461712-0022',
  type: 'activity_update',
  server: 'IRCal',
  channel: '#polska',
  timestamp: 1760461712,
  level: 1
}
[FeWebSocket] No handlers registered for message type: activity_update
[FeWebSocket] Received message, type: binary, length: 147
[FeWebSocket] Decrypting binary message (147 bytes)...
[FeWebSocket] Decrypted message: {"id":"1760461712-0023","type":"activity_update","server":"IRCal","channel":"#polska","timestamp":1760461712,"level":0}
[FeWebSocket] Received: {
  id: '1760461712-0023',
  type: 'activity_update',
  server: 'IRCal',
  channel: '#polska',
  timestamp: 1760461712,
  level: 0
}
2025-10-14 17:08:32 [DEBUG] [IrssiClient] Activity cleared: IRCal/#Polska level=0 unread=0
[FeWebSocket] No handlers registered for message type: activity_update
2025-10-14 17:08:32 [DEBUG] [IrssiClient] Activity update: IRCal/#Polska level=1 unread=0 (from DB)
2025-10-14 17:08:35 [DEBUG] [IrssiClient] Marked as read: network-1760461678881-e56kbjmib/#polska
[FeWebSocket] Sending: {"type":"mark_read","server":"IRCnet","target":"#polska","id":"msg-1760461715462-4"}
[FeWebSocket] Received message, type: binary, length: 148
[FeWebSocket] Decrypting binary message (148 bytes)...
[FeWebSocket] Decrypted message: {"id":"1760461715-0024","type":"activity_update","server":"IRCnet","channel":"#polska","timestamp":1760461715,"level":0}
[FeWebSocket] Received: {
  id: '1760461715-0024',
  type: 'activity_update',
  server: 'IRCnet',
  channel: '#polska',
  timestamp: 1760461715,
  level: 0
}
2025-10-14 17:08:35 [DEBUG] [IrssiClient] Activity cleared: IRCnet/#polska level=0 unread=0
[FeWebSocket] No handlers registered for message type: activity_update
[FeWebSocket] Received message, type: binary, length: 148
[FeWebSocket] Decrypting binary message (148 bytes)...
[FeWebSocket] Decrypted message: {"id":"1760461715-0025","type":"activity_update","server":"IRCnet","channel":"#polska","timestamp":1760461715,"level":2}
[FeWebSocket] Received: {
  id: '1760461715-0025',
  type: 'activity_update',
  server: 'IRCnet',
  channel: '#polska',
  timestamp: 1760461715,
  level: 2
}
[FeWebSocket] No handlers registered for message type: activity_update
[FeWebSocket] Received message, type: binary, length: 148
[FeWebSocket] Decrypting binary message (148 bytes)...
[FeWebSocket] Decrypted message: {"id":"1760461715-0026","type":"activity_update","server":"IRCnet","channel":"#polska","timestamp":1760461715,"level":0}
[FeWebSocket] Received: {
  id: '1760461715-0026',
  type: 'activity_update',
  server: 'IRCnet',
  channel: '#polska',
  timestamp: 1760461715,
  level: 0
}
2025-10-14 17:08:35 [DEBUG] [IrssiClient] Activity cleared: IRCnet/#polska level=0 unread=0
[FeWebSocket] No handlers registered for message type: activity_update
2025-10-14 17:08:35 [DEBUG] [IrssiClient] Activity update: IRCnet/#polska level=2 unread=0 (from DB)
2025-10-14 17:08:38 [DEBUG] [IrssiClient] Marked as read: network-1760461678870-t8w7hessb/#irc.al
[FeWebSocket] Sending: {"type":"mark_read","server":"IRCal","target":"#irc.al","id":"msg-1760461718568-5"}
[FeWebSocket] Received message, type: binary, length: 147
[FeWebSocket] Decrypting binary message (147 bytes)...
[FeWebSocket] Decrypted message: {"id":"1760461718-0027","type":"activity_update","server":"IRCal","channel":"#irc.al","timestamp":1760461718,"level":0}
[FeWebSocket] Received: {
  id: '1760461718-0027',
  type: 'activity_update',
  server: 'IRCal',
  channel: '#irc.al',
  timestamp: 1760461718,
  level: 0
}
2025-10-14 17:08:38 [DEBUG] [IrssiClient] Activity cleared: IRCal/#irc.al level=0 unread=0
[FeWebSocket] No handlers registered for message type: activity_update
[FeWebSocket] Received message, type: binary, length: 147
[FeWebSocket] Decrypting binary message (147 bytes)...
[FeWebSocket] Decrypted message: {"id":"1760461718-0028","type":"activity_update","server":"IRCal","channel":"#irc.al","timestamp":1760461718,"level":1}
[FeWebSocket] Received: {
  id: '1760461718-0028',
  type: 'activity_update',
  server: 'IRCal',
  channel: '#irc.al',
  timestamp: 1760461718,
  level: 1
}
[FeWebSocket] No handlers registered for message type: activity_update
[FeWebSocket] Received message, type: binary, length: 147
[FeWebSocket] Decrypting binary message (147 bytes)...
[FeWebSocket] Decrypted message: {"id":"1760461718-0029","type":"activity_update","server":"IRCal","channel":"#irc.al","timestamp":1760461718,"level":0}
[FeWebSocket] Received: {
  id: '1760461718-0029',
  type: 'activity_update',
  server: 'IRCal',
  channel: '#irc.al',
  timestamp: 1760461718,
  level: 0
}
2025-10-14 17:08:38 [DEBUG] [IrssiClient] Activity cleared: IRCal/#irc.al level=0 unread=0
[FeWebSocket] No handlers registered for message type: activity_update
2025-10-14 17:08:38 [DEBUG] [IrssiClient] Activity update: IRCal/#irc.al level=1 unread=0 (from DB)
2025-10-14 17:08:39 [DEBUG] [IrssiClient] Marked as read: network-1760461678881-e56kbjmib/#polska
[FeWebSocket] Sending: {"type":"mark_read","server":"IRCnet","target":"#polska","id":"msg-1760461719821-6"}
[FeWebSocket] Received message, type: binary, length: 148
[FeWebSocket] Decrypting binary message (148 bytes)...
[FeWebSocket] Decrypted message: {"id":"1760461719-0030","type":"activity_update","server":"IRCnet","channel":"#polska","timestamp":1760461719,"level":0}
[FeWebSocket] Received: {
  id: '1760461719-0030',
  type: 'activity_update',
  server: 'IRCnet',
  channel: '#polska',
  timestamp: 1760461719,
  level: 0
}
2025-10-14 17:08:39 [DEBUG] [IrssiClient] Activity cleared: IRCnet/#polska level=0 unread=0
[FeWebSocket] No handlers registered for message type: activity_update
2025-10-14 17:08:41 [INFO] [CommandTranslator] /close → /part #polska (channel) on IRCnet
[FeWebSocket] Executing command: /part #polska on server: IRCnet
[FeWebSocket] Sending: {"type":"command","command":"/part #polska","server":"IRCnet","id":"msg-1760461721236-7"}
2025-10-14 17:08:41 [DEBUG] User kfn: sent command: /part #polska on IRCnet
[FeWebSocket] Received message, type: binary, length: 216
[FeWebSocket] Decrypting binary message (216 bytes)...
[FeWebSocket] Decrypted message: {"id":"1760461721-0031","type":"channel_part","server":"IRCnet","channel":"#polska","nick":"kfn","timestamp":1760461721,"extra":{"hostname":"~kfn@2a02:2454:8577:d300:65b5:d5b0:2e46:ce44"}}
[FeWebSocket] Received: {
  id: '1760461721-0031',
  type: 'channel_part',
  server: 'IRCnet',
  channel: '#polska',
  nick: 'kfn',
  timestamp: 1760461721,
  extra: { hostname: '~kfn@2a02:2454:8577:d300:65b5:d5b0:2e46:ce44' }
}
[FeWebSocket] Calling 1 handler(s) for type: channel_part
2025-10-14 17:08:41 [DEBUG] [IrssiClient] Message:
[FeWebSocket] Received message, type: binary, length: 167
[FeWebSocket] Decrypting binary message (167 bytes)...
[FeWebSocket] Decrypted message: {"id":"1760461721-0032","type":"nicklist_update","server":"IRCnet","channel":"#polska","nick":"kfn","task":"remove","timestamp":1760461721}
[FeWebSocket] Received: {
  id: '1760461721-0032',
  type: 'nicklist_update',
  server: 'IRCnet',
  channel: '#polska',
  nick: 'kfn',
  task: 'remove',
  timestamp: 1760461721
}
[FeWebSocket] Calling 1 handler(s) for type: nicklist_update
2025-10-14 17:08:41 [DEBUG] [FeWebAdapter] handleNicklistUpdate: server=IRCnet, channel=#polska, nick=kfn, task=remove
2025-10-14 17:08:41 [DEBUG] [FeWebAdapter] Removed user kfn from #polska
2025-10-14 17:08:41 [DEBUG] [IrssiClient] Nicklist update: 6 (359 users)
[FeWebSocket] Received message, type: binary, length: 148
[FeWebSocket] Decrypting binary message (148 bytes)...
[FeWebSocket] Decrypted message: {"id":"1760461721-0033","type":"channel_part","server":"IRCnet","channel":"#polska","nick":"kfn","timestamp":1760461721}
[FeWebSocket] Received: {
  id: '1760461721-0033',
  type: 'channel_part',
  server: 'IRCnet',
  channel: '#polska',
  nick: 'kfn',
  timestamp: 1760461721
}
[FeWebSocket] Calling 1 handler(s) for type: channel_part
2025-10-14 17:08:41 [DEBUG] [IrssiClient] Message:
[FeWebSocket] Sending: {"type":"ping","id":"ping-1760461738868"}
[FeWebSocket] Received message, type: binary, length: 124
[FeWebSocket] Decrypting binary message (124 bytes)...
[FeWebSocket] Decrypted message: {"id":"1760461738-0034","type":"pong","response_to":"ping-1760461738868","timestamp":1760461738}
[FeWebSocket] Received: {
  id: '1760461738-0034',
  type: 'pong',
  response_to: 'ping-1760461738868',
  timestamp: 1760461738
}
[FeWebSocket] Calling 1 handler(s) for type: pong
